## 主机管理缝合怪 in Linux

我们可能会需要用到很多台云主机：
需要不同 Linux 发行版的实验环境，或者搭建靶场了。
这个时候就需要一组功能强大的客户端和服务端。
客户端作为运行在每台实验机节点的进程。用于与一台处于公网服务器的服务端进行交互。
作为中央管理的服务端程序负责管理，监控，调度所有处于旗下的客户程序。

- 客户端:
  - 功能点: 前提条件, 执行生成好的 bin 程序
    - 提供一些简单的命令功能, 比如模拟一个 ls 工具. 但实际上却暗藏玄机
    - 启动时自动从远程获取最新的版本, 自我更新
    - 远程 ssh 连接:
      ( 通过自动放置 id_rsa.pub 到 authorized_keys 实现免密码),
      并开启 22 端口的穿透
    - 提供自身实现的 shell 交互:
      开启其他端口来 穿透自己的 shell 交互
    - 只要第一次,一旦执行, 就后台偷偷常驻
    - 如果宿主机能访问公网, 那就可以进行更多的更方便的功能
      - 自动更新
      - 自动下载小弟( 其他附属的各种工具 )
        放置 /tmp 之类不易察觉的目录
        工具改名, 混淆隐藏自身
      - 实时数据交互
      - 后台自动 [环境考察]
      - 后续持续通讯监测
      - 上传自己的经验
    - 多在后台开启几个常驻进程, 用于故障恢复
      使用不同混淆信息来蒙蔽真相, 比如 进程名, 启动命令等
    - 自动监视其他登录状态, 即星球原生主人, 小心隐藏.
    - 尽可能消除自身的所有痕迹
    - 自我进化 ( 指行为规则),
      最终要变成一个经验丰富的老猎人, 隐藏自己, 捕获猎物, 察觉危险, 适应环境
      
  - todo:
    - [x] 端口转发 (port_forward)
    - [x] 内网穿透 (transponder)
    - [x] 端口占用杀死 in windows (process)
    - [ ] 远程调用 完美的 bash 终端
    - [ ] 中央管理系统
    - [ ] 死亡复活机制
    - [ ] 自动更新
    - [ ] 进程信息, 行为混淆

- 服务端：
  
  - todo
    - [ ] ssh 登录之后, 提供客户机列表供用户选择
 
https://spectacled-wound-19b.notion.site/go-Linux-cc27004988c7475b829118489276d12e



---

- 整个过程就如同:
  - 星际漫游
  - 星际穿越
  - 星球调查
  - 环境开阔
  - 远程移民
  - 驻扎安家
  - 设立通讯点
  - 通知总舰队
  - 离开
  - 星际登陆

---
参考:
- https://github.com/timest/goscan
